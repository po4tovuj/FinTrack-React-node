# üöÄ Railway Deployment Guide for FinTrack

## Quick Deploy to Railway (5 minutes)

### Step 1: Push to GitHub (if not already done)
```bash
git push origin master
```

### Step 2: Deploy via Railway Web Interface

1. **Go to Railway**: https://railway.app/dashboard
2. **New Project** ‚Üí **Deploy from GitHub repo**
3. **Select this repository** from your GitHub account

### Step 3: Configure Services

Railway will auto-detect the services. Configure them as follows:

#### üóÑÔ∏è Database Service
- **Service**: PostgreSQL
- **Auto-configured** - Railway will provide connection string

#### üîß Backend Service
- **Name**: `fintrack-backend`
- **Root Directory**: `/backend`
- **Build Command**: `npm run build`
- **Start Command**: `npm start`
- **Port**: `4000`

**Environment Variables:**
```
NODE_ENV=production
PORT=4000
DATABASE_URL=${{Postgres.DATABASE_URL}}
JWT_SECRET=fintrack_super_secure_jwt_secret_2024
JWT_REFRESH_SECRET=fintrack_super_secure_refresh_secret_2024
CORS_ORIGIN=${{frontend.RAILWAY_PUBLIC_DOMAIN}}
```

#### üé® Frontend Service
- **Name**: `fintrack-frontend`
- **Root Directory**: `/frontend`
- **Build Command**: `npm run build`
- **Start Command**: `npm start`
- **Port**: `3000`

**Environment Variables:**
```
NODE_ENV=production
NEXTAUTH_URL=${{RAILWAY_PUBLIC_DOMAIN}}
NEXTAUTH_SECRET=fintrack_super_secure_nextauth_secret_2024
NEXT_PUBLIC_GRAPHQL_URL=${{backend.RAILWAY_PUBLIC_DOMAIN}}/graphql
NEXT_PUBLIC_API_URL=${{backend.RAILWAY_PUBLIC_DOMAIN}}
```

### Step 4: Deploy Order
1. ‚úÖ PostgreSQL deploys automatically
2. ‚úÖ Backend deploys and runs migrations
3. ‚úÖ Frontend deploys and connects to backend

### Step 5: Get Your Live URLs
After deployment, Railway provides:
- **Frontend URL**: `https://fintrack-frontend-production-xxxx.up.railway.app`
- **Backend API**: `https://fintrack-backend-production-xxxx.up.railway.app`

## üß™ Testing Your Live App

### Core Features to Test:
1. **Landing Page** - Loads and looks good
2. **Registration** - Create new account
3. **Login** - Sign in with credentials
4. **Dashboard** - Financial overview displays
5. **Profile Page** - User info and settings
6. **PDF Export** - Downloads financial report
7. **Excel Export** - Downloads spreadsheet
8. **Mobile View** - Responsive design works

### Demo Account (After seeding)
- **Email**: `demo@fintrack.app`
- **Password**: `demo123456`

## üîß Alternative: Railway CLI Method

If you prefer command line:

```bash
# Install and login to Railway
npm install -g @railway/cli
railway login

# Initialize project
railway init fintrack

# Add database
railway add postgresql

# Deploy backend
cd backend
railway up

# Deploy frontend
cd ../frontend
railway up
```

## üìã Environment Variables Reference

### Required Secrets:
- `JWT_SECRET`: Long random string for JWT signing
- `JWT_REFRESH_SECRET`: Different long random string for refresh tokens  
- `NEXTAUTH_SECRET`: Random string for NextAuth sessions
- `POSTGRES_PASSWORD`: Database password (auto-generated by Railway)

### Generated by Railway:
- `DATABASE_URL`: PostgreSQL connection string
- `RAILWAY_PUBLIC_DOMAIN`: Your app's public URL

## üêõ Troubleshooting

### Common Issues:
1. **Build Fails**: Check Node.js version in Dockerfile
2. **Database Connection**: Verify DATABASE_URL format
3. **CORS Errors**: Ensure CORS_ORIGIN matches frontend URL
4. **404 Errors**: Check NEXT_PUBLIC_GRAPHQL_URL is correct

### Debug Commands:
```bash
railway logs           # View all logs
railway logs backend   # Backend specific logs  
railway logs frontend  # Frontend specific logs
```

## üéâ Success!

Your FinTrack app will be live at:
**https://fintrack-frontend-production-xxxx.up.railway.app**

The app includes:
- ‚úÖ Complete authentication system
- ‚úÖ Financial dashboard with charts
- ‚úÖ Profile management
- ‚úÖ Working PDF/Excel export
- ‚úÖ Responsive design
- ‚úÖ Real-time updates
- ‚úÖ Production-ready performance